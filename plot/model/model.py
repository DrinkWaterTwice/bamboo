import matplotlib.pyplot as plt

n4bs100 = [
    ('Bamboo-HS',[
        (10.0,10.07),
        (20.0,10.07),
        (30.0,10.7),
        (40.0,12.8),
        (49.8,17.5),
        (60.6,44.25),
    ], '-o', 'coral'),
    ('Bamboo-2CHS',[
        (10.0,8.54),
        (20.0,8.63),
        (30.0,9.5),
        (40.0,11.27),
        (49.8,13.3),
        (60.6,35.21),
    ], '-s', 'darkseagreen'),
    ('Bamboo-SL',[
        (10.0,9.54),
        (20.0,9.44),
        (30.0,11.4),
        (40.0,14.42),
        (46.7,24.28),
        (47.9,29.07),
    ], '-d', 'steelblue'),
    ('Model-HS',[
       (20.0, 10.23),
       (40.0, 11.62),
       (60.0, 13.57),
       (80.0, 16.65),
       (99.0, 21.36),
       (118.0, 35.44),
       (125.0, 52.4),
    ], '--<', 'coral'),
    ('Model-2CHS',[
       (20.0, 8.64),
       (40.0, 9.83),
       (60.0, 11.81),
       (80.0, 14.55),
       (100.0, 19.14),
       (118.0, 32.33),
       (125.0, 50.8),
    ], '--^', 'darkseagreen'),
    ('Model-SL',[
       (20.0, 12.65),
       (40.0, 15.49),
       (60.0, 21.39),
       (80.0, 36.5),
       (90.0, 76.76),
    ], '-->', 'steelblue')]

n4bs400 = [
    ('Bamboo-HS',[
        (20.0,10.6),
        (40.0,12.24),
        (60.0,13.36),
        (80.0,15.67),
        (100.0,17.54),
        (119.2,25.34),
        (131.3,36.3),
    ], '-o', 'coral'),
    ('Bamboo-2CHS',[
       (20.0, 9.16),
       (40.0, 10.12),
       (60.0, 11.36),
       (79.8, 12.9),
       (100.0, 16.24),
       (121.1, 21.3),
       (130.4, 33.74),
    ], '-s', 'darkseagreen'),
    ('Bamboo-SL',[
        (20.0,9.3),
        (40.0,10.29),
        (59.84,12.44),
        (80.0,17.1),
        (99.1,26.5),
        (109.8,35.0),
    ], '-d', 'steelblue'),
    ('Model-HS',[
       (20.0, 10.23),
       (40.0, 11.62),
       (60.0, 13.57),
       (80.0, 16.65),
       (99.0, 21.36),
       (118.0, 35.44),
       (125.0, 52.4),
    ], '--<', 'coral'),
    ('Model-2CHS',[
       (20.0, 8.64),
       (40.0, 9.83),
       (60.0, 11.81),
       (80.0, 14.55),
       (100.0, 19.14),
       (118.0, 32.33),
       (125.0, 50.8),
    ], '--^', 'darkseagreen'),
    ('Model-SL',[
       (20.0, 12.65),
       (40.0, 15.49),
       (60.0, 21.39),
       (80.0, 36.5),
       (90.0, 76.76),
    ], '-->', 'steelblue')]

n8bs100 = [
    ('Bamboo-HS',[
        (4.0,29.0),
        (8.0,29.5),
        (12.0,30.86),
        (16.0,34.04),
        (20.0,38.4),
        (24.0,50.7),
    ], '-o', 'coral'),
    ('Bamboo-2CHS',[
       (4.0, 26.4),
       (8.0, 29.14),
       (12.0, 29.4),
       (16.0, 31.27),
       (20.0, 36.8),
       (23.4, 41.48),
    ], '-s', 'darkseagreen'),
    ('Bamboo-SL',[
        (4.0,32.19),
        (8.0,31.1),
        (12.0,33.87),
        (16.1,39.9),
        (19.4,53.34),
        (22.0,72.0),
    ], '-d', 'steelblue'),
    ('Model-HS',[
       (20.0, 10.23),
       (40.0, 11.62),
       (60.0, 13.57),
       (80.0, 16.65),
       (99.0, 21.36),
       (118.0, 35.44),
       (125.0, 52.4),
    ], '--<', 'coral'),
    ('Model-2CHS',[
       (20.0, 8.64),
       (40.0, 9.83),
       (60.0, 11.81),
       (80.0, 14.55),
       (100.0, 19.14),
       (118.0, 32.33),
       (125.0, 50.8),
    ], '--^', 'darkseagreen'),
    ('Model-SL',[
       (20.0, 12.65),
       (40.0, 15.49),
       (60.0, 21.39),
       (80.0, 36.5),
       (90.0, 76.76),
    ], '-->', 'steelblue')]

n8bs400 = [
    ('Bamboo-HS',[
        (8.0,26.15),
        (20.0,28.74),
        (40.0,33.14),
        (60.0,41.57),
        (71.58,53.9),
        (79.4,72.9),
    ], '-o', 'coral'),
    ('Bamboo-2CHS',[
       (8.0, 23.9),
       (20.0, 26.45),
       (40.0, 28.9),
       (60.8, 39.56),
       (70.66, 48.48),
       (72.79, 61.25),
    ], '-s', 'darkseagreen'),
    ('Bamboo-SL',[
        (8.0,29.23),
        (19.628,31.63),
        (32.2,31.73),
        (39.9,42.74),
        (52.6,50.4),
        (59.52,62.64),
    ], '-d', 'steelblue'),
    ('Model-HS',[
       (20.0, 10.23),
       (40.0, 11.62),
       (60.0, 13.57),
       (80.0, 16.65),
       (99.0, 21.36),
       (118.0, 35.44),
       (125.0, 52.4),
    ], '--<', 'coral'),
    ('Model-2CHS',[
       (20.0, 8.64),
       (40.0, 9.83),
       (60.0, 11.81),
       (80.0, 14.55),
       (100.0, 19.14),
       (118.0, 32.33),
       (125.0, 50.8),
    ], '--^', 'darkseagreen'),
    ('Model-SL',[
       (20.0, 12.65),
       (40.0, 15.49),
       (60.0, 21.39),
       (80.0, 36.5),
       (90.0, 76.76),
    ], '-->', 'steelblue')]

def do_plot():
    f = plt.figure(1, figsize=(7,5))
    plt.clf()
    ax = f.add_subplot(1, 1, 1)
    for name, entries, style, color in bsize:
        throughput = []
        latency = []
        for t, l in entries:
            throughput.append(t)
            latency.append(l)
        ax.plot(throughput, latency, style, color=color, label='%s' % name, markersize=8, alpha=0.8)
    plt.legend(loc='best', fancybox=True,frameon=False,framealpha=0.8)
    plt.grid(linestyle='--', alpha=0.3)
    plt.ylabel('Latency (ms)')
    plt.xlabel('Throughput (KTx/s)')
    plt.tight_layout()
    plt.ylim([5,80])
    plt.xlim([10,130])
    plt.savefig('model-implementation.pdf', format='pdf')
    plt.show()

if __name__ == '__main__':
    do_plot()
