import matplotlib.pyplot as plt

bsize = [
    ('Bamboo-HS',[
       (20.0, 11.59),
       (39.9, 12.69),
       (60.0, 14.16),
       (79.8, 16.47),
       (98.3, 19.7),
       (112.5, 23.5),
       (118.12, 27.17),
       (120.3, 29.84),
       (120.4, 32.22),
       (120.2, 33.3)
    ], '-o', 'coral'),
    ('Bamboo-2CHS',[
       (19.9, 10.03),
       (39.98, 10.97),
       (59.9, 12.28),
       (76.87, 13.69),
       (90.6, 15.11),
       (112.1, 21.25),
       (117.9, 24.03),
       (120.2, 26.7),
       (120.2, 29.2),
       (120.17, 30.04),
    ], '-s', 'darkseagreen'),
    ('Bamboo-SL',[
       (19.9, 9.96),
       (39.9, 10.76),
       (59.9, 12.04),
       (79.8, 14.31),
       (98.3, 17.25),
       (112.26, 21.01),
       (118.0, 24.4),
       (120.0, 27.05),
       (120.5, 28.9),
       (119.9, 30.6),
    ], '-d', 'steelblue')]
#     ('Model-HS',[
#        (2.0, 13.23),
#        (6.0, 11.8),
#        (12.0, 11.9),
#        (24.0, 12.98),
#        (48.0, 15.19),
#        (79.0, 19.44),
#        (94.5, 23.19),
#        (108.5, 30.7),
#        (110.0, 35.14),
#     ], '--<', 'coral'),
#     ('Model-2CHS',[
#        (2.0, 11.17),
#        (6.0, 10.14),
#        (12.0, 10.29),
#        (24.0, 11.33),
#        (48.0, 13.06),
#        (79.0, 17.2),
#        (98.0, 20.12),
#        (110.9, 29.32),
#        (109.0, 42.32),
#     ], '--^', 'darkseagreen'),
#     ('Model-SL',[
#        (2.0, 12.26),
#        (6.0, 12.06),
#        (12.0, 11.38),
#        (24.0, 11.63),
#        (48.0, 12.4),
#        (80.0, 14.5),
#        (97.4, 19.2),
#        (110.0, 29.5),
#        (109.9, 46.9),
#     ], '-->', 'steelblue')]

# Measurements from block-size.data
# bsize = [
#     ('Bamboo-HS',[
#        (2.0, 13.32),
#        (6.0, 12.3),
#        (12.0, 12.09),
#        (24.0, 13.2),
#        (48.0, 15.2),
#        (78.8, 19.17),
#        (94.5, 23.59),
#        (108.5, 34.59),
#        (110.8, 43.2),
#     ], '-o', 'coral'),
#     ('Bamboo-2CHS',[
#        (2.0, 12.10),
#        (6.0, 10.95),
#        (12.0, 11.62),
#        (24.0, 12.05),
#        (47.9, 12.79),
#        (79.0, 17.82),
#        (98.0, 19.92),
#        (110.9, 29.0),
#        (109.9, 48.89),
#     ], '-s', 'darkseagreen'),
#     ('Bamboo-SL',[
#        (2.0, 12.26),
#        (6.0, 12.06),
#        (12.0, 11.38),
#        (24.0, 11.63),
#        (48.0, 12.4),
#        (80.0, 14.5),
#        (97.4, 19.2),
#        (110.0, 29.5),
#        (109.9, 46.9),
#     ], '-d', 'steelblue'),
#     ('Model-HS',[
#        (2.0, 13.23),
#        (6.0, 11.8),
#        (12.0, 11.9),
#        (24.0, 12.98),
#        (48.0, 15.19),
#        (79.0, 19.44),
#        (94.5, 23.19),
#        (108.5, 30.7),
#        (110.0, 35.14),
#     ], '--<', 'coral'),
#     ('Model-2CHS',[
#        (2.0, 11.17),
#        (6.0, 10.14),
#        (12.0, 10.29),
#        (24.0, 11.33),
#        (48.0, 13.06),
#        (79.0, 17.2),
#        (98.0, 20.12),
#        (110.9, 29.32),
#        (109.0, 42.32),
#     ], '--^', 'darkseagreen'),
#     ('Model-SL',[
#        (2.0, 12.26),
#        (6.0, 12.06),
#        (12.0, 11.38),
#        (24.0, 11.63),
#        (48.0, 12.4),
#        (80.0, 14.5),
#        (97.4, 19.2),
#        (110.0, 29.5),
#        (109.9, 46.9),
#     ], '-->', 'steelblue')]

def do_plot():
    f = plt.figure(1, figsize=(10,5))
    plt.clf()
    ax = f.add_subplot(1, 1, 1)
    for name, entries, style, color in bsize:
        throughput = []
        latency = []
        for t, l in entries:
            throughput.append(t)
            latency.append(l)
        ax.plot(throughput, latency, style, color=color, label='%s' % name, markersize=8, alpha=0.8)
    plt.legend(loc='best', fancybox=True,frameon=False,framealpha=0.8)
    plt.grid(linestyle='--', alpha=0.3)
    plt.ylabel('Latency (ms)')
    plt.xlabel('Throughput (KTx/s)')
    plt.tight_layout()
    plt.ylim([5,35])
    plt.xlim([10,125])
    plt.savefig('model-implementation.pdf', format='pdf')
    plt.show()

if __name__ == '__main__':
    do_plot()
